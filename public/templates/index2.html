<p ng-show="enpoints.length == 0">No hay datos para mostrar</p>

<H1>Monitor de ambientes Amdocs</H1>

<!-- <p>Last update on {{ new Date() | date:'DD dd-MM-yy HH:mm:ss'}} </p> -->

<form>
    <div class="form-group">
      <div class="input-group">
        <div class="input-group-addon"><i class="fa fa-search"></i></div>
        <input type="text" class="form-control" placeholder="Filtrar" ng-model="buscador">
      </div>
    </div>
</form>

<div class="alert alert-info" ng-hide="buscador == ''">
  <!-- <p>Sort Type: {{ sortType }}</p>
  <p>Sort Reverse: {{ sortReverse }}</p> -->
  <p >Filtrado por  {{ buscador }} </p>
</div>

<!-- Filtrar: <input type="text" ng-model="buscador"  /> -->
<table class="table table-bordered table-striped">
    <thead>
      <tr>
        <td>
          <a href="" ng-click="sortType = 'name'; sortReverse = !sortReverse">
            Nombre
            <span ng-show="sortType == 'name' && !sortReverse" class="fa fa-caret-down"></span>
            <span ng-show="sortType == 'name' && sortReverse" class="fa fa-caret-up"></span>
          </a>
        </td>
        <!-- <td>Nombre</td> -->
        <td>
          <a href="" ng-click="sortType = 'env'; sortReverse = !sortReverse">
            Ambiente
            <span ng-show="sortType == 'env' && !sortReverse" class="fa fa-caret-down"></span>
            <span ng-show="sortType == 'env' && sortReverse" class="fa fa-caret-up"></span>
          </a>
        </td>
        <!-- <td>Ambiente</td> -->
        <td>URL</td>
        <td>Ultimo Error</td>
        <td>Codigo HTTP</td>
        <!-- <td>Estado</td> -->
        <td>
          <a href="" ng-click="sortType = 'status'; sortReverse = !sortReverse">
            Estado
            <span ng-show="sortType == 'status' && !sortReverse" class="fa fa-caret-down"></span>
            <span ng-show="sortType == 'status' && sortReverse" class="fa fa-caret-up"></span>
          </a>
        </td>
      </tr>
    </thead>
    <tbody>
      <!-- <tr ng-repeat="end in endpoints | orderBy:sortType:sortReverse | filter:buscador"> -->
      <tr ng-repeat="end in endpoints | orderBy:sortType:sortReverse | filter: buscador">
        <td>{{ end.name }}</td>
        <td>{{ end.env }}</td>
        <td>
            <a ng-show="end.type != 'ASM'" href="{{ end.url }}" target="_blank" title="Abrir en otra ventana">{{ end.url }}</a>
            <p ng-show="end.type == 'ASM'">ASM</p>
        </td>
        <td>{{ end.firstErrorDate  | date:'dd-MM-yy HH:mm:ss'}}</td>
        <td><a href="https://httpstatuses.com/" target="_blank" title="Abrir error">{{ end.httpCode }}</a></td>
        <td style="font-weight: bold">
            <p ng-show="end.isOK" style="color: green">OK</p>
            <p ng-show="!end.isOK" style="color: red">ERROR</p>
        </td>
      </tr>
    </tbody>
 </table>
